{"version":3,"sources":["components/images/negative.jpg","components/images/title.jpg","components/ReviewBox.js","components/SentimentDisplay.js","components/App.js","index.js","components/images/positive.jpg"],"names":["module","exports","ReviewBox","state","text","onInputChange","event","setState","target","value","props","onFormSubmit","preventDefault","className","this","load","type","onChange","placeholder","onClick","React","Component","SentimentDisplay","p_percent","n_percent","prob","inverseProb","onLoading","bar_state","convertPercent","num","rounded","parseFloat","toFixed","Math","abs","console","log","onGettingPred","res","src","positive","style","marginTop","width","negative","App","pred","display","current","review","a","async","fetch","method","body","JSON","stringify","response","prediction","createRef","title","ref","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.57c01656.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/negative.ca4db02f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/title.4296b70d.jpg\";","import React from \"react\";\r\n\r\nclass ReviewBox extends React.Component {\r\n  state = { text: \"\" };\r\n\r\n  onInputChange = event => {\r\n    this.setState({ text: event.target.value });\r\n    this.props.onInputChange(\"waiting\");\r\n  };\r\n\r\n  onFormSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onFormSubmit(this.state.text);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"search-bar ui segment\">\r\n        <form className=\"ui form\">\r\n          <div className={`ui ${this.props.load} inverted dimmer`}>\r\n            <div className=\"ui medium text loader\">Analysing...</div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label>\r\n              <h3 className=\"ui header\">Write your review</h3>\r\n            </label>\r\n            <textarea\r\n              type=\"text\"\r\n              value={this.state.text}\r\n              onChange={this.onInputChange}\r\n              placeholder=\"The movie was...\"\r\n            />\r\n          </div>\r\n          <button className=\"ui button\" onClick={this.onFormSubmit}>\r\n            Analyse Review\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ReviewBox;\r\n","import React from \"react\";\r\nimport positive from \"./images/positive.jpg\";\r\nimport negative from \"./images/negative.jpg\";\r\n\r\nclass SentimentDisplay extends React.Component {\r\n  state = {\r\n    p_percent: \"0\",\r\n    n_percent: \"0\",\r\n    prob: null,\r\n    inverseProb: null,\r\n    text: \"\"\r\n  };\r\n\r\n  onLoading = bar_state => {\r\n    if (bar_state == \"waiting\") {\r\n      this.setState({ p_percent: \"0\", n_percent: \"0\", text: \"\" });\r\n    }\r\n  };\r\n\r\n  convertPercent = num => {\r\n    const rounded = parseFloat(num).toFixed(3);\r\n    const prob = (rounded * 100).toFixed(1);\r\n    const inverseProb = Math.abs(100 - prob).toFixed(1);\r\n    this.setState({ prob: prob, inverseProb: inverseProb });\r\n    console.log(rounded, prob, inverseProb);\r\n  };\r\n\r\n  onGettingPred = res => {\r\n    this.convertPercent(res);\r\n    if (this.state.prob >= 50) {\r\n      this.setState({\r\n        p_percent: `${this.state.prob}`,\r\n        n_percent: `${this.state.inverseProb}`,\r\n        text: \"That's positive!\"\r\n      });\r\n      console.log(\"positive\");\r\n    } else {\r\n      this.setState({\r\n        p_percent: `${this.state.prob}`,\r\n        n_percent: `${this.state.inverseProb}`,\r\n        text: \"Ouch! That hurts\"\r\n      });\r\n      console.log(\"negative\");\r\n    }\r\n    console.log(this.state.p_percent, this.state.n_percent);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\">\r\n        <div className=\"ui grid\">\r\n          <div className=\"two wide column\">\r\n            <img className=\"ui tiny centered circular image\" src={positive} />\r\n          </div>\r\n\r\n          <div className=\"six wide column\">\r\n            <div className=\"ui teal progress\" style={{ marginTop: \"30px\" }}>\r\n              <div\r\n                className=\"bar\"\r\n                style={{ width: `${this.state.p_percent}%` }}\r\n              >\r\n                <div className=\"progress\">{`${this.state.p_percent}%`}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"six wide column\">\r\n            <div className=\"ui orange progress\" style={{ marginTop: \"30px\" }}>\r\n              <div\r\n                className=\"bar\"\r\n                style={{ width: `${this.state.n_percent}%` }}\r\n              >\r\n                <div className=\"progress\">{`${this.state.n_percent}%`}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"two wide column\">\r\n            <img className=\"ui tiny centered circular image\" src={negative} />\r\n          </div>\r\n\r\n          <div className=\"sixteen wide column\">\r\n            <center>\r\n              <h2 className=\"header\">{this.state.text}</h2>\r\n            </center>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default SentimentDisplay;\r\n","import React from \"react\";\r\nimport ReviewBox from \"./ReviewBox\";\r\nimport SentimentDisplay from \"./SentimentDisplay\";\r\nimport title from \"./images/title.jpg\";\r\n\r\nclass App extends React.Component {\r\n  state = { pred: null, load: \"disabled\" };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.display = React.createRef();\r\n  }\r\n\r\n  onInputChange = bar_state => {\r\n    this.display.current.onLoading(bar_state);\r\n  };\r\n\r\n  onFormSubmit = async review => {\r\n    this.setState({ load: \"active\" });\r\n    const response = await fetch(\r\n      \"https://j4cgrdhc8b.execute-api.us-east-1.amazonaws.com/prod\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          body: review\r\n        })\r\n      }\r\n    );\r\n    const prediction = await response.text();\r\n    console.log(\"Predicted Sentiment: \" + prediction);\r\n    this.setState({ pred: prediction, load: \"disabled\" });\r\n\r\n    this.display.current.onGettingPred(prediction);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\">\r\n        <div className=\"ui grid\">\r\n          <div className=\"sixteen wide column\" style={{ marginTop: \"20px\" }}>\r\n            <img className=\"ui large image\" src={title} />\r\n          </div>\r\n          <div className=\"sixteen wide column\">\r\n            <ReviewBox\r\n              onFormSubmit={this.onFormSubmit}\r\n              onInputChange={this.onInputChange}\r\n              load={this.state.load}\r\n            />\r\n          </div>\r\n          <div className=\"sixteen wide column\">\r\n            <SentimentDisplay ref={this.display} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));\r\n","module.exports = __webpack_public_path__ + \"static/media/positive.a1eebbce.jpg\";"],"sourceRoot":""}